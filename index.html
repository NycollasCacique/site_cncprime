<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<title>CNCPrime | Catálogo Técnico</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:#f4f6f8;
  color:#222;
}

/* LOGO COMO FUNDO EXPANDIDO */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background-image:url("./images/logo-cncprime.png");
  background-repeat:repeat;
  background-size:380px;
  opacity:0.035;
  pointer-events:none;
  z-index:0;
}

.container{
  max-width:1200px;
  margin:auto;
  padding:20px;
  position:relative;
  z-index:1;
}

header{
  display:flex;
  align-items:center;
  gap:15px;
  background:#fff;
  padding:15px;
  border-radius:12px;
}

header img{height:48px}

.search{margin:20px 0}
.search input{
  width:100%;
  padding:12px;
  font-size:16px;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:20px;
}

.card{
  background:#fff;
  border-radius:12px;
  box-shadow:0 6px 20px rgba(0,0,0,.08);
  overflow:hidden;
}

.card img{
  width:100%;
  height:180px;
  object-fit:cover;
}

.card .info{padding:15px}

.card h3{margin:0}

.card p{font-size:14px;color:#555}

.btn{
  display:block;
  margin:15px;
  padding:12px;
  text-align:center;
  background:#d4af37;
  color:#000;
  font-weight:bold;
  border-radius:8px;
  text-decoration:none;
}
</style>
</head>

<body>
<div class="container">

<header>
  <img src="./images/logo-cncprime.png">
  <div>
    <h2>CNCPrime</h2>
    <small>Catálogo Técnico • Soluções em CNC</small>
  </div>
</header>

<div class="search">
  <input id="busca" placeholder="Pesquisar por código, modelo, marca ou descrição técnica...">
</div>

<div id="produtos" class="grid"></div>

</div>

<script src="./js/produtos.js"></script>
<script>
const lista = document.getElementById("produtos");
const busca = document.getElementById("busca");

function render(dados){
  lista.innerHTML="";
  dados.forEach(p=>{
    lista.innerHTML+=`
      <div class="card">
        <img src="${p.imagens[0]}" alt="${p.nome}">
        <div class="info">
          <h3>${p.nome}</h3>
          <p>${p.marca} • ${p.modelo}</p>
          <p><strong>${p.preco}</strong></p>
        </div>
        <a class="btn" href="produto.html?id=${p.id}">Ver detalhes</a>
      </div>
    `;
  });
}

busca.addEventListener("input", ()=>{
  const termo = busca.value.toLowerCase();
  const filtrados = produtos.filter(p =>
    p.nome.toLowerCase().includes(termo) ||
    p.modelo.toLowerCase().includes(termo) ||
    p.marca.toLowerCase().includes(termo) ||
    p.descricao.toLowerCase().includes(termo)
  );
  render(filtrados);
});

render(produtos);
</script>
</body>
</html>
